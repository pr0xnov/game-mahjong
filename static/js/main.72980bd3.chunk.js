(this["webpackJsonpmahjong-like-game"]=this["webpackJsonpmahjong-like-game"]||[]).push([[0],{24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(9),i=c.n(r),s=c(5),d=c(6),u=c(3),o=c(2),j=c(4),b={cards:[],activeCards:[],gameInProgress:!1},l=Object(d.c)({name:"cardsGame",initialState:b,reducers:{setupGame:function(e,t){var c=Object(j.a)(t.payload);return Object(o.a)(Object(o.a)({},b),{},{cards:c})},startGame:function(e){return Object(o.a)(Object(o.a)({},e),{},{gameInProgress:!0})},selectCard:function(e,t){var c,n=t.payload,a=e.cards.find((function(e){return e.id===n}));if(!a)return e;var r=(c=e.activeCards.length>=2?[]:Object(j.a)(e.activeCards)).find((function(e){return e.number===a.number}));if(r){var i=Object(j.a)(e.cards),s=i.findIndex((function(e){return e.id===a.id})),d=i.findIndex((function(e){return e.id===r.id}));return i[s]=Object(o.a)(Object(o.a)({},a),{},{isGuessed:!0}),i[d]=Object(o.a)(Object(o.a)({},r),{},{isGuessed:!0}),Object(o.a)(Object(o.a)({},e),{},{cards:i,activeCards:[]})}return Object(o.a)(Object(o.a)({},e),{},{activeCards:[].concat(Object(j.a)(c),[a])})},deselectCard:function(e,t){var c=t.payload,n=e.activeCards.filter((function(e){return e.id!==c}));return Object(o.a)(Object(o.a)({},e),{},{activeCards:n})}}}),O=Object(d.b)("cardsGame/selectCardWithDelayedDeselect",(function(e,t){var c=t.dispatch,n=(0,t.getState)().cardsGame.activeCards;1===n.length&&setTimeout((function(){n.forEach((function(e){c(l.actions.deselectCard(e.id))})),c(l.actions.deselectCard(e))}),750),c(l.actions.selectCard(e))})),f=l.actions,m=f.setupGame,v=f.startGame,h=(f.selectCard,f.deselectCard,l.reducer),x=Object(u.b)({cardsGame:h}),g=Object(d.a)({reducer:x,devTools:!0}),p=g,C=c(35),G=function(e){for(var t=2;t<e;t+=1)if(e%t===0)return!1;return!0},N=function(){var e,t=function(e){for(var t=[2],c=3;c<e;c+=2)G(c)&&t.push(c);return t}(50),c=[].concat(Object(j.a)(t),Object(j.a)(t));return(e=c,Object(j.a)(e).sort((function(){return Math.random()-.5}))).map((function(e){return{id:Object(C.a)(),number:e,isGuessed:!1}}))},_=c(10),y=function(e){return e.cardsGame},k=Object(_.a)([y],(function(e){return e.cards})),I=Object(_.a)([y],(function(e){return e.activeCards})),S=Object(_.a)([y],(function(e){return e.gameInProgress})),w=(c(24),c(1)),A=function(e){var t=e.title;return Object(w.jsx)("header",{className:"header",children:Object(w.jsx)("h1",{className:"header__title",children:t})})},E=(c(26),function(e){var t=e.children;return Object(w.jsxs)("div",{className:"main-layout",children:[Object(w.jsx)(A,{title:"Mahjong-like game"}),Object(w.jsx)("div",{className:"main-layout__content",children:t})]})}),M=(c(27),function(e){var t=e.children;return Object(w.jsx)("div",{className:"cards-container",children:t})}),P=c(8),V=c(7),D=c.n(V),J=(c(28),["children","isVisible","isActive","isGuessed"]),R=function(e){var t=e.children,c=e.isVisible,n=void 0!==c&&c,a=e.isActive,r=void 0!==a&&a,i=e.isGuessed,s=void 0!==i&&i,d=Object(P.a)(e,J),u=n||r||s;return Object(w.jsx)("div",Object(o.a)(Object(o.a)({className:D()("card",{card_active:r,card_guessed:s})},d),{},{children:u&&Object(w.jsx)("span",{className:"card__content",children:t})}))},T=(c(29),["children","className"]),B=function(e){var t=e.children,c=e.className,n=Object(P.a)(e,T);return Object(w.jsx)("div",Object(o.a)(Object(o.a)({className:D()("game-actions",c)},n),{},{children:t}))},W=(c(30),["children","className","variant"]),q=Object(n.forwardRef)((function(e,t){var c=e.children,n=e.className,a=e.variant,r=void 0===a?"outlined":a,i=Object(P.a)(e,W);return Object(w.jsx)("button",Object(o.a)(Object(o.a)({ref:t,type:"button",className:D()("button",n,{button_contained:"contained"===r})},i),{},{children:c}))})),z=(c(31),function(){var e=Object(s.b)(),t=Object(s.c)(k),c=Object(s.c)(I),a=Object(s.c)(S),r=function(e){return c.some((function(t){return t.id===e}))},i=function(){var t=N();e(m(t))};Object(n.useEffect)((function(){i()}),[]);return Object(w.jsxs)(E,{children:[Object(w.jsx)(M,{children:t.map((function(t){return Object(w.jsx)(R,{tabIndex:0,isVisible:!a,isActive:r(t.id),isGuessed:t.isGuessed,onClick:function(){var c;!(c=t).isGuessed&&!r(c.id)&&a&&e(O(c.id))},children:t.number},t.id)}))}),Object(w.jsxs)(B,{className:"main-page__actions",children:[Object(w.jsx)(q,{type:"button",className:"main-page__button",variant:"outlined",onClick:i,children:"Refresh"}),Object(w.jsx)(q,{type:"button",className:"main-page__button",variant:"contained",onClick:function(){e(v())},disabled:a,children:"Start Game"})]})]})}),F=function(){return Object(w.jsx)(s.a,{store:p,children:Object(w.jsx)(z,{})})};c(32);i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(F,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.72980bd3.chunk.js.map